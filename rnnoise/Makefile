#
# Makefile for RNNOISE
# This one creates librnnoise.a intended for static linking
#
# DL1YCF NOTE:
# the "full model", rnnoise_data.c, does not compile on RaspPis
# with only 1 GByte of memory, therefore this has now been split
# into 6 files that can be compiled separately.
#

CFLAGS?= -pthread -O3 -D_GNU_SOURCE -Wno-parentheses -Iinclude -Isrc

COMPILE=$(CC) $(CFLAGS) 

SOURCES=  \
src/denoise.c \
src/celt_lpc.c \
src/kiss_fft.c \
src/nnet.c \
src/nnet_default.c \
src/parse_lpcnet_weights.c \
src/pitch.c \
src/rnn.c \
src/rnnoise_data.c \
src/rnnoise_data_1.c \
src/rnnoise_data_2.c \
src/rnnoise_data_3.c \
src/rnnoise_data_4.c \
src/rnnoise_data_5.c \
src/rnnoise_data_6.c \
src/rnnoise_tables.c

OBJS= \
src/denoise.o \
src/celt_lpc.o \
src/kiss_fft.o \
src/nnet.o \
src/nnet_default.o \
src/parse_lpcnet_weights.o \
src/pitch.o \
src/rnn.o \
src/rnnoise_data.o \
src/rnnoise_data_1.o \
src/rnnoise_data_2.o \
src/rnnoise_data_3.o \
src/rnnoise_data_4.o \
src/rnnoise_data_5.o \
src/rnnoise_data_6.o \
src/rnnoise_tables.o

librnnoise.a:	$(OBJS)
	ar rv librnnoise.a $(OBJS)
	ranlib librnnoise.a

.c.o:
	$(COMPILE) -c -o $@ $<


clean:
	-rm -f librnnoise.a $(OBJS)

#############################################################################
#
# What follows is automatically generated by the "makedepend" program
#
#############################################################################

# DO NOT DELETE

